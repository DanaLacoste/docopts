DOCOPTS(1)                       Â User Commands                       DOCOPTS(1)

NAME
        docopts - shell interface for docopt, the CLI description language

SYNOPSIS
        docopts [options] <doc> [--] [<argv>]...

DESCRIPTION
        docopts parses the command line argument vector <argv> according to
        the docopt string <doc> and stores the results in a temporary
        directory.  The path to this directory is then written to standard
        output.  This directory must be deleted manually once it is no
        longer needed.
        
        The directory will contain a file for each option, argument, or
        command defined in <doc>, with their contents as follows:
        
            non-repeatable, valueless arguments
                1 if found, an empty file if not
            
            repeatable valueless arguments
                the number of their occurrences in <argv>
            
            non-repeatable arguments with values
                the value if found, an empty file if not
            
            repeatable arguments with values
                one value per line
        
        Unless the option --no-help is given, docopts will handle the --help
        and --version options and their possible aliases specially: when
        either is encountered, docopts exits immediately and writes the
        relevant message to standard output.  Thus, when invoking docopts
        with --no-help, one must first check if the output is a path to a
        directory or not.
        
        If <argv> does not match any usage pattern in <doc>, docopts exits
        with status 1 and writes a diagnostic error message to standard error.

OPTIONS
        -V <version>
                A version message.  If - is given, read the version message
                from standard input.  If the help message is also read from
                standard input, the version message is read first.
        -O, --options-first
                Disallow interspersing options with positional arguments.
                All arguments starting from the first one that does not begin
                with a dash will be treated as positional arguments.
        -H, --no-help
                Don't handle --help and --version specially.
        -s, --separator=<str>
                The string to use to separate the help message from the
                version message when both are given via standard input.
                [default: ----]
        --help
                Show this help and exit.
        --version
                Output version number and exit.

EXAMPLES
        Read the help and version messages from standard input:
            args=$(docopts -V - - "$@" <<EOF
            Usage: rock [options] <argv>...
            
                  --verbose  Generate verbose messages.
                  --help     Show help options.
                  --version  Print program version.
            ----
            rock 0.1.0
            Copyright (C) 200X Thomas Light
            License RIT (Robot Institute of Technology)
            This is free software: you are free to change and redistribute it.
            There is NO WARRANTY, to the extent permitted by law.
            EOF
            )
            
            if [ -s $args/--verbose ] ; then
                echo "Hello, world!"
            fi
        
        Parse the help and version messages from script comments and pass them
        as command line arguments:
            ## rock 0.1.0
            ## Copyright (C) 200X Thomas Light
            ## License RIT (Robot Institute of Technology)
            ## This is free software: you are free to change and redistribute it.
            ## There is NO WARRANTY, to the extent permitted by law.
            
            ### Usage: rock [options] <argv>...
            ### 
            ###       --help     Show help options.
            ###       --version  Print program version.
            
            help=$(grep "^### " "$0" | cut -c 5-)
            version=$(grep "^## "  "$0" | cut -c 4-)
            args=$(docopts -V "$version" "$help" "$@")
            
            while read -r arg; do
                echo $arg received
            done < $args/argv

BUGS
        Due to the way arguments that take multiple values are stored, there
        is currently no way to losslessly parse multiple values that contain
        newlines.  Ideally, the --separator option could be used to specify
        a custom delimiter string, but this conflicts with its current use
        as the delimiter between the docstring and the version message when
        both are read from standard input, for which a simple newline as the
        default value won't do.  Perhaps the latter use could be deprecated?
        I'd rather not store multiple-valued arguments as a subdirectory as
        it complicates the code.

VERSIONING
        The docopts version number always matches that of the docopt Python
        reference implementation  version against which it was built.  As
        docopt follows semantic versioning, docopts should work with any
        docopt release it shares the major version number with; however, as
        both docopts and docopt are in major version number 0 at the moment,
        docopts can only be relied to work with an installation of docopt
        with the exact same version number.

Docopt                             2013-02-07                         DOCOPTS(1)
